{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Management</title>
    <link rel="stylesheet" href={% static "css/courseManagement.css"%}>
</head>
<body>
    <!--Navigation Menu-->
    <header>
        <nav>
            <ul>
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="#">Profile</a></li>
                <li><a href="#">Notifications</a></li>
                <li><a href="{% url 'courseManagement' %}">Course Management</a></li>
                <li><a href="{% url 'adminAccManagement' %}">Account Management</a></li>
                <li><a href="#">Settings</a></li>
            </ul>
        </nav>
        <div class="dateContainer">
            <div class="clock">12:00 PM</div>
            <span>April 13, 2024</span>
        </div>
        <form action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <button type="submit">Logout</button>
    </form>
    </header>

    <!--Course Management Menu-->
    <main>
        <div class="menuContainer">
        <!--course creation-->
            <section>
                <h2 class="menuTitle">Create Course</h2>
                <div class="menuBox">
                    <form method="post" action="{% url 'courseManagement' %}">
                        {% csrf_token %}
                        <label for="courseName">Course Name:</label><br>
                        <input type="text" id="courseName" name="courseName"><br>
                        <label for="courseTime">Course Time:</label><br>
                        <input type="text" id="courseTime" name="courseTime"><br>
                        <label for="courseDays">Course Days:</label><br>
                        <input type="text" id="courseDays" name="courseDays"><br><br>
                        <label for="instructorSelect">Select Instructor:</label><br>
                        <select id="instructorSelect" name="instructorSelect">
                            {% if instructors %}
                                {% for instructor in instructors %}
                                    <option value="{{ instructor.id }}">{{ instructor.firstName}} {{instructor.lastName }}</option>
                                {% endfor %}
                            {% else %}
                                <option value="">No instructors available</option>
                            {% endif %}
                        </select><br><br>
                        <input type="submit" value="Submit">
                    </form>
                    {% if messages %}
                        {{ messages }}
                    {% endif %}
                </div>
            </section>
        <!--assign to course-->
            <section>
                <h2 class="menuTitle">Assign Instructor to Course</h2>
                <div class="menuBoxMid">
                    <form>
                        <label for="courseSelect">Select Course:</label><br>
                        <select id="courseSelect" name="courseSelect">
                            {% if courses %}
                                {% for course in courses %}
                                    <option value="{{ course.id }}">{{ course.courseName }}</option>
                                {% endfor %}
                            {% else %}
                                <option value="">No courses available</option>
                            {% endif %}
                        </select><br>
                        <label for="instructorSelect">Select Instructor:</label><br>
                        <select id="instructorSelect" name="instructorSelect">
                            {% if instructors %}
                                {% for instructor in instructors %}
                                    <option value="{{ instructor.id }}">{{ instructor.firstName}} {{instructor.lastName }}</option>
                                {% endfor %}
                            {% else %}
                                <option value="">No instructors available</option>
                            {% endif %}
                        </select><br><br>
                        <input type="submit" value="Assign">
                    </form>
                </div>

                <h2 class="menuTitle">Assign TA to Course</h2>
                <div class="menuBoxMid">
                    <form>
                        <label for="courseSelectTA">Select Course:</label><br>
                        <select id="courseSelectTA" name="courseSelectTA">
                            {% if courses %}
                                {% for course in courses %}
                                    <option value="{{ course.id }}">{{ course.courseName }}</option>
                                {% endfor %}
                            {% else %}
                                <option value="">No courses available</option>
                            {% endif %}
                        </select><br>
                        <label for="taSelect">Select TA:</label><br>
                        <select id="taSelect" name="taSelect">
                            {% if TAs %}
                                {% for TA in TAs %}
                                    <option value="{{ TA.id }}">{{ TA.firstName}} {{TA.lastName }}</option>
                                {% endfor %}
                            {% else %}
                                <option value="">No TAs available</option>
                            {% endif %}
                        </select><br><br>
                        <input type="submit" value="Assign">
                    </form>
                </div>
            </section>
        <!--assign to lab-->
            <section>
                <h2 class="menuTitle">Assign TA to Lab Section</h2>
                <div class="menuBox">
                    <div class="assignContainer">
                        <label for="labCourse">Course:</label>
                        <select id="labCourse" name="labCourse">
                            {% if courses %}
                                {% for course in courses %}
                                    <option value="{{ course.id }}">{{ course.courseName }}</option>
                                {% endfor %}
                            {% else %}
                                <option value="">No courses available</option>
                            {% endif %}
                        </select>
                        <label for="labTA">TA:</label>
                        <select id="labTA" name="labTA">
                            {% if TAs %}
                                {% for TA in TAs %}
                                    <option value="{{ TA.userID }}">{{ TA.firstName}} {{TA.lastName }}</option>
                                {% endfor %}
                            {% else %}
                                <option value="">No TAs available</option>
                            {% endif %}
                        </select>
                        <label for="labSection">Lab Section:</label>
                        <select id="labSection" name="labSection">
                            {% if labs %}
                                {% for lab in labs %}
                                    <option value="{{ lab.sectionNumber }}">{{ lab.sectionNumber }}</option>
                                {% endfor %}
                            {% else %}
                                <option value="">No labs available</option>
                            {% endif %}
                        </select>
                        <button class="submitButton">Assign</button>
                    </div>
                    <div class="scrollingList">
                        <!--TA assignments-->
                        <ul>
                            {% for lab in labs %}
                                {% with labTA=lab.taId %}
                                    <li>{{ labTA.firstName }} {{ labTA.lastName }}
                                        <ul>
                                            <li>Course: {{ lab.courseId.courseName }} Lab Section: {{ lab.sectionNumber }}</li>
                                        </ul>
                                    </li>
                                {% endwith %}
                            {% empty %}
                                <li>No Assignments</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </section>
        </div>
    </main>
</body>
</html>
